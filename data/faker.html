<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  
</body>
<script src = "/datagenerator.js" type = "text/javascript"></script>
<script src = "https://cdnjs.cloudflare.com/ajax/libs/Faker/3.1.0/faker.js" type = "text/javascript"></script>
<script>
  let getRandomInt = (max) => {
    return Math.floor(Math.random() * Math.floor(max)) 
  }
  
  let getRandom = (arr, n) => {
    var result = new Array(n),
        len = arr.length,
        taken = new Array(len);
    if (n > len)
        throw new RangeError("getRandom: more elements taken than available");
    while (n--) {
        var x = Math.floor(Math.random() * len);
        result[n] = arr[x in taken ? taken[x] : x];
        taken[x] = --len in taken ? taken[len] : len;
    }
    return result;
}


  for(let i = 0; i < data.length; i++){
    let isClaimed = getRandomInt(2) ? true : false 
    data[i].isClaimed = isClaimed

    let amountOfReview = getRandomInt(1000)
    reviews = []
    for (let j = 0; j < amountOfReview; j++){
      reviews.push({
        user: faker.name.findName(),
        date: faker.date.past(5),
        rating: getRandomInt(3) + 3
      })
    } 

    let dollarAmount = getRandomInt(4) + 1
    let numberOfCategories = getRandomInt(3) + 1;
    let randomCategories = getRandom(categories, numberOfCategories)

    data[i].isClaimed = isClaimed
    data[i].reviews = reviews
    data[i].dollarAmount = dollarAmount
    data[i].categories = randomCategories
  }
  console.log(data);
  // console.log(categories);
  // var randomEmail = faker.internet.email(); // Rusty@arne.info
  // var randomCard = faker.helpers.createCard(); // random contact card containing many properties
  // console.log(randomName)
  // console.log(randomEmail)
  // console.log(randomCard)
</script>
</html>